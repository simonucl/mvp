1
Namespace(adv_augment=0, alpha=None, attack_name='irrelevant_sample', batch_size=4, beta=1.0, checkpoint_interval=1000, config_file=None, data_dir='./data', dataset='sst2', dataset_path=None, ensemble_num=1, epsilon=1.0, examples_per_label=1, fix_dist=False, is_quantized=False, knn_T=None, knn_k=None, knn_model='bert-base-uncased', local_rank=0, local_world_size=1, lr=1e-05, mask_augment=False, mask_prob=0.15, mask_ratio=0.3, max_length=1024, max_percent_words=0.5, mode='attack', model='meta-llama/Llama-2-7b-hf', model_dir='./checkpoints/sst2/meta-llama/Llama-2-7b-hf/irrelevant_sample/icl-seed-42-shot-8', model_id='0', model_type='icl', norm='l2', num_epochs=20, num_examples=1000, num_iter=1, num_labels=2, num_template=-1, path='None', patience=10, pool_label_words='max', pool_templates='mean', precision='bfloat16', prompt_num=2, query_budget=-1, replace_ratio=0.1, retrieve_method='sbert', sampled_num=1, save_icl_examples_path=None, seed=42, shot=8, split='test', template_file='configs/templates_rte.yaml', tindex=0, train_epoch=30, train_size=0.95, val_size=0.05, verbalizer_file='configs/verbalizer_rte.yaml', weight_decay=0.01)
meta-llama/Llama-2-7b-hf
Model Directory: ./checkpoints/sst2/meta-llama/Llama-2-7b-hf/irrelevant_sample/icl-seed-42-shot-8
1 Physical GPUs, 1 Logical GPUs
Namespace(adv_augment=0, alpha=None, attack_name='irrelevant_sample', batch_size=4, beta=1.0, cache_dir='./checkpoints/sst2/meta-llama/Llama-2-7b-hf/irrelevant_sample/icl-seed-42-shot-8/cache', checkpoint_interval=1000, config_file=None, data_dir='./data', dataset='sst2', dataset_path=None, ensemble_num=1, epsilon=1.0, examples_per_label=1, fix_dist=False, is_quantized=False, knn_T=None, knn_k=None, knn_model='bert-base-uncased', local_rank=0, local_world_size=1, lr=1e-05, mask_augment=False, mask_prob=0.15, mask_ratio=0.3, max_length=1024, max_percent_words=0.5, mode='attack', model='meta-llama/Llama-2-7b-hf', model_dir='./checkpoints/sst2/meta-llama/Llama-2-7b-hf/irrelevant_sample/icl-seed-42-shot-8', model_id='0', model_type='icl', norm='l2', num_epochs=20, num_examples=1000, num_iter=1, num_labels=2, num_template=-1, path='None', patience=10, pool_label_words='max', pool_templates='mean', precision='bfloat16', prompt_num=2, query_budget=-1, replace_ratio=0.1, retrieve_method='sbert', sampled_num=1, save_icl_examples_path=None, seed=42, shot=8, split='test', template_file='configs/templates_rte.yaml', tindex=0, train_epoch=30, train_size=0.95, val_size=0.05, verbalizer_file='configs/verbalizer_rte.yaml', weight_decay=0.01)
Finished loading ood dataset
{'sentence': 'is in bad need of major acting lessons and maybe a little coffee ', 'label': 0, 'idx': 17493}
Finished replacing ood dataset
{'sentence': 'It wasn’t immediately known whether Lane has an attorney.\n', 'label': 0, 'idx': 17493}
Length of anchor subsample 0
Length of icl examples 2
Finished loading model
ICL examples
{'sentence': "it 's a charming and often affecting journey . ", 'label': 1, 'idx': 0, 'Example_0': 'all mood and no movie . ', 'Label_0': 'true', 'Example_1': 'First Alert Weather: What to expect 5/30\n', 'Label_1': 'false', 'Example_2': 'has been sacrificed for the sake of spectacle ', 'Label_2': 'true', 'Example_3': 'emerges with yet another remarkable yet shockingly little-known perspective . ', 'Label_3': 'false', 'Example_4': 'Photo: Quality Control Music\n', 'Label_4': 'true', 'Example_5': 'are very , very good reasons ', 'Label_5': 'false', 'Example_6': 'In this solo show Bart asks you to imagine a line, and then takes you and your line on an imaginary journey from historghrhams, to brightness sliders, to black and white point sliders, to contrast sliders, and finally on to curves and levels adjustments. These controls are ubiquitous, so understanding them should prove extremely useful!\n', 'Label_6': 'true', 'Example_7': 'the ya-ya sisterhood ', 'Label_7': 'false', 'Example_8': 'That is, of course, farcical, as the ad barely shows her, amongst a spread of mostly white reporters.\n', 'Label_8': 'true', 'Example_9': 'Forwards: LeBron James, Lance Stephenson, Brandon Ingram, Luol Deng, Kyle Kuzma\n', 'Label_9': 'false', 'Example_10': 'feels as flat as the scruffy sands of its titular community . ', 'Label_10': 'true', 'Example_11': 'Port Arthur Fire Marshal Paul Washburn tells KFDM television that firefighters arrived at the burning building a little after midnight Wednesday. First responders found the children and rushed them to a hospital where they were pronounced dead.\n', 'Label_11': 'false', 'Example_12': 'In this article World Bank poverty estimates are used to systematically test the relationship between changes in poverty and exogenous changes in real domestic food prices. We uncover indicative evidence that increases in food prices are associated with reductions in poverty, not increases. We empirically explain this result in terms of relatively strong agricultural supply and wage responses to food price increases, and the fact that the majority of the world’s poor still heavily rely on agriculture or agriculture-related activities to earn a living.\n', 'Label_12': 'true', 'Example_13': 'the utter authority of a genre gem ', 'Label_13': 'false', 'Example_14': 'Boulder Valley School District spokesman Randy Barber says district policy allows students to stand or sit for the flag pledge.\n', 'Label_14': 'true', 'Example_15': 'this film is so different from the apple and so striking that it can only encourage us to see samira makhmalbaf as a very distinctive sensibility , working to develop her own film language with conspicuous success . ', 'Label_15': 'false'}
{'sentence': "it 's a charming and often affecting journey . ", 'label': 1, 'idx': 0, 'Example_0': 'all mood and no movie . ', 'Label_0': 'true', 'Example_1': 'First Alert Weather: What to expect 5/30\n', 'Label_1': 'false', 'Example_2': 'has been sacrificed for the sake of spectacle ', 'Label_2': 'true', 'Example_3': 'emerges with yet another remarkable yet shockingly little-known perspective . ', 'Label_3': 'false', 'Example_4': 'Photo: Quality Control Music\n', 'Label_4': 'true', 'Example_5': 'are very , very good reasons ', 'Label_5': 'false', 'Example_6': 'In this solo show Bart asks you to imagine a line, and then takes you and your line on an imaginary journey from historghrhams, to brightness sliders, to black and white point sliders, to contrast sliders, and finally on to curves and levels adjustments. These controls are ubiquitous, so understanding them should prove extremely useful!\n', 'Label_6': 'true', 'Example_7': 'the ya-ya sisterhood ', 'Label_7': 'false', 'Example_8': 'That is, of course, farcical, as the ad barely shows her, amongst a spread of mostly white reporters.\n', 'Label_8': 'true', 'Example_9': 'Forwards: LeBron James, Lance Stephenson, Brandon Ingram, Luol Deng, Kyle Kuzma\n', 'Label_9': 'false', 'Example_10': 'feels as flat as the scruffy sands of its titular community . ', 'Label_10': 'true', 'Example_11': 'Port Arthur Fire Marshal Paul Washburn tells KFDM television that firefighters arrived at the burning building a little after midnight Wednesday. First responders found the children and rushed them to a hospital where they were pronounced dead.\n', 'Label_11': 'false', 'Example_12': 'In this article World Bank poverty estimates are used to systematically test the relationship between changes in poverty and exogenous changes in real domestic food prices. We uncover indicative evidence that increases in food prices are associated with reductions in poverty, not increases. We empirically explain this result in terms of relatively strong agricultural supply and wage responses to food price increases, and the fact that the majority of the world’s poor still heavily rely on agriculture or agriculture-related activities to earn a living.\n', 'Label_12': 'true', 'Example_13': 'the utter authority of a genre gem ', 'Label_13': 'false', 'Example_14': 'Boulder Valley School District spokesman Randy Barber says district policy allows students to stand or sit for the flag pledge.\n', 'Label_14': 'true', 'Example_15': 'this film is so different from the apple and so striking that it can only encourage us to see samira makhmalbaf as a very distinctive sensibility , working to develop her own film language with conspicuous success . ', 'Label_15': 'false'}
['{}\n The question is: {}. True or False?\nThe Answer is: {}']
{0: ['true'], 1: ['false']}
./checkpoints/sst2/meta-llama/Llama-2-7b-hf/irrelevant_sample/icl-seed-42-shot-8/irrelevant_sample_log.csv
<textattack.attacker.Attacker object at 0x7f2f1652ca90>
Attack(
  (search_method): GreedyWordSwapWIR(
    (wir_method):  delete
  )
  (goal_function):  UntargetedClassification
  (transformation):  WordSwapEmbedding(
    (max_candidates):  50
    (embedding):  WordEmbedding
  )
  (constraints): 
    (0): MaxWordsPerturbed(
        (max_percent):  0.5
        (compare_against_original):  True
      )
    (1): WordEmbeddingDistance(
        (embedding):  WordEmbedding
        (min_cos_sim):  0.6
        (cased):  False
        (include_unknown_words):  True
        (compare_against_original):  True
      )
    (2): PartOfSpeech(
        (tagger_type):  nltk
        (tagset):  universal
        (allow_verb_noun_swap):  True
        (compare_against_original):  True
      )
    (3): UniversalSentenceEncoder(
        (metric):  angular
        (threshold):  0.840845057
        (window_size):  15
        (skip_text_shorter_than_window):  True
        (compare_against_original):  False
      )
    (4): RepeatModification
    (5): StopwordModification
    (6): InstructionModification(
        (columns_to_ignore):  ['example_', 'label_']
      )
    (7): InputColumnModification(
        (matching_column_labels):  ['premise', 'hypothesis']
        (columns_to_ignore):  {'premise'}
      )
    (8): InputColumnModification(
        (matching_column_labels):  ['question', 'sentence']
        (columns_to_ignore):  {'question'}
      )
  (is_black_box):  True
) 

