1
Namespace(adv_augment=0, alpha=None, attack_name='irrelevant_sample', batch_size=8, beta=0.2, checkpoint_interval=1000, config_file=None, data_dir='./data', dataset='rte', dataset_path=None, ensemble_num=1, epsilon=1.0, examples_per_label=1, fix_dist=False, is_quantized=False, knn_T=100.0, knn_k=1, knn_model='bert-base-uncased', local_rank=0, local_world_size=1, lr=1e-05, mask_augment=False, mask_prob=0.15, mask_ratio=0.3, max_length=1024, max_percent_words=0.5, mode='attack', model='meta-llama/Llama-2-7b-hf', model_dir='./checkpoints/rte/meta-llama/Llama-2-7b-hf/irrelevant_sample/knn_icl_attack-seed-1-shot-4', model_id='0', model_type='knn_icl_attack', norm='l2', num_epochs=20, num_examples=1000, num_iter=1, num_labels=2, num_template=-1, path='None', patience=10, pool_label_words='max', pool_templates='mean', precision='bfloat16', prompt_num=2, query_budget=-1, replace_ratio=0.1, retrieve_method='sbert', sampled_num=1, seed=1, shot=4, split='test', template_file='configs/templates_rte.yaml', tindex=0, train_epoch=30, train_size=0.95, val_size=0.05, verbalizer_file='configs/verbalizer_rte.yaml', weight_decay=0.01)
meta-llama/Llama-2-7b-hf
Model Directory: ./checkpoints/rte/meta-llama/Llama-2-7b-hf/irrelevant_sample/knn_icl_attack-seed-1-shot-4
1 Physical GPUs, 1 Logical GPUs
Namespace(adv_augment=0, alpha=None, attack_name='irrelevant_sample', batch_size=8, beta=0.2, cache_dir='./checkpoints/rte/meta-llama/Llama-2-7b-hf/irrelevant_sample/knn_icl_attack-seed-1-shot-4/cache', checkpoint_interval=1000, config_file=None, data_dir='./data', dataset='rte', dataset_path=None, ensemble_num=1, epsilon=1.0, examples_per_label=1, fix_dist=False, is_quantized=False, knn_T=100.0, knn_k=1, knn_model='bert-base-uncased', local_rank=0, local_world_size=1, lr=1e-05, mask_augment=False, mask_prob=0.15, mask_ratio=0.3, max_length=1024, max_percent_words=0.5, mode='attack', model='meta-llama/Llama-2-7b-hf', model_dir='./checkpoints/rte/meta-llama/Llama-2-7b-hf/irrelevant_sample/knn_icl_attack-seed-1-shot-4', model_id='0', model_type='knn_icl_attack', norm='l2', num_epochs=20, num_examples=1000, num_iter=1, num_labels=2, num_template=-1, path='None', patience=10, pool_label_words='max', pool_templates='mean', precision='bfloat16', prompt_num=2, query_budget=-1, replace_ratio=0.1, retrieve_method='sbert', sampled_num=1, seed=1, shot=4, split='test', template_file='configs/templates_rte.yaml', tindex=0, train_epoch=30, train_size=0.95, val_size=0.05, verbalizer_file='configs/verbalizer_rte.yaml', weight_decay=0.01)
Length of anchor subsample 6
Length of icl examples 2
Num examples per label map [1, 1]
Finished loading model
ICL examples
{'label': 1, 'idx': 0, 'premise': 'dana reeve, the widow of the actor christopher reeve, has died of lung cancer at age 44, according to the christopher reeve foundation.', 'hypothesis': 'christopher reeve had an accident.', 'Premise_0': 'george herbert walker bush (born june 12, 1924) is the former 41st president of the united states of america. almost immediately upon his return from the war in december 1944, george bush married barbara pierce.', 'Hypothesis_0': "the name of george h.w. bush's wife is barbara.", 'Label_0': 'true', 'Premise_1': 'it rewrites the rules of global trade, established by the general agreement on tariffs and trade, or gatt, in 1947, and modified in multiple rounds of negotiations since then.', 'Hypothesis_1': 'gatt was formed in 1947.', 'Label_1': 'false', 'Premise_2': 'us military forces are evacuating u.s. citizens and citizens of 72 other countries from liberia at the request of the u.s.', 'Hypothesis_2': 'u.s. military evacuated u.s. citizens.', 'Label_2': 'true', 'Premise_3': "floods are one of europe's most widespread disasters. major flooding has occurred nearly every year somewhere on our continent during the last few decades.", 'Hypothesis_3': 'flooding in europe causes major economic losses.', 'Label_3': 'false', 'Premise_4': 'rock stars aerosmith are to hold a free concert in hawaii to placate angry fans who brought a legal case against them. the walk this way hitmakers cancelled a sold-out show in maui two years ago, leaving hundreds of fans out of pocket. they filed a class action case, which claimed the band had pulled out in favour of a bigger gig in chicago and a private show for car dealers in oahu. lawyers for the would-be concert-goers said aerosmith had now agreed to put on a new show, and would pay all expenses.', 'Hypothesis_4': 'aerosmith are a rock band.', 'Label_4': 'true', 'Premise_5': 'one reason for increased osteoporosis in developed countries is the sodium-potassium imbalance.', 'Hypothesis_5': 'dietary intake of potassium prevents osteoporosis.', 'Label_5': 'false'}
{'label': 1, 'idx': 0, 'premise': 'dana reeve, the widow of the actor christopher reeve, has died of lung cancer at age 44, according to the christopher reeve foundation.', 'hypothesis': 'christopher reeve had an accident.', 'Premise_0': 'george herbert walker bush (born june 12, 1924) is the former 41st president of the united states of america. almost immediately upon his return from the war in december 1944, george bush married barbara pierce.', 'Hypothesis_0': "the name of george h.w. bush's wife is barbara.", 'Label_0': 'true', 'Premise_1': 'it rewrites the rules of global trade, established by the general agreement on tariffs and trade, or gatt, in 1947, and modified in multiple rounds of negotiations since then.', 'Hypothesis_1': 'gatt was formed in 1947.', 'Label_1': 'false', 'Premise_2': 'us military forces are evacuating u.s. citizens and citizens of 72 other countries from liberia at the request of the u.s.', 'Hypothesis_2': 'u.s. military evacuated u.s. citizens.', 'Label_2': 'true', 'Premise_3': "floods are one of europe's most widespread disasters. major flooding has occurred nearly every year somewhere on our continent during the last few decades.", 'Hypothesis_3': 'flooding in europe causes major economic losses.', 'Label_3': 'false', 'Premise_4': 'rock stars aerosmith are to hold a free concert in hawaii to placate angry fans who brought a legal case against them. the walk this way hitmakers cancelled a sold-out show in maui two years ago, leaving hundreds of fans out of pocket. they filed a class action case, which claimed the band had pulled out in favour of a bigger gig in chicago and a private show for car dealers in oahu. lawyers for the would-be concert-goers said aerosmith had now agreed to put on a new show, and would pay all expenses.', 'Hypothesis_4': 'aerosmith are a rock band.', 'Label_4': 'true', 'Premise_5': 'one reason for increased osteoporosis in developed countries is the sodium-potassium imbalance.', 'Hypothesis_5': 'dietary intake of potassium prevents osteoporosis.', 'Label_5': 'false'}
['{}\n The question is: {}. True or False?\nThe Answer is: {}']
{0: ['true'], 1: ['false']}
./checkpoints/rte/meta-llama/Llama-2-7b-hf/irrelevant_sample/knn_icl_attack-seed-1-shot-4/irrelevant_sample_log.csv
Finished loading ood dataset
<textattack.attacker.Attacker object at 0x7fdfd4428b80>
Attack(
  (search_method): GreedySearch
  (goal_function):  UntargetedClassification
  (transformation):  CompositeTransformation(
    (0): InsturctionIrrelevant
    )
  (constraints): 
    (0): MaxKeysPerturbed(
        (max_keys):  3.0
        (compare_against_original):  True
      )
  (is_black_box):  True
) 

Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_2',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_2',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_2',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_2',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_2',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_1',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_2',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_2',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_2',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_1',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_0',), ('Premise_2',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_2',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_2',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_2',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_0',), ('Premise_5',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_1',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_5',), ('Premise_3',), ('Premise_2',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_3',), ('Premise_2',), ('Premise_5',)]
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
[('Premise_4',), ('Premise_0',), ('Premise_2',), ('Premise_5',), ('Premise_3',), ('Premise_1',)]
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
Counter({'true': 3, 'false': 3})
