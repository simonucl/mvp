1
Namespace(adv_augment=0, alpha=None, attack_name='swap_labels', batch_size=2, beta=1.0, checkpoint_interval=1000, config_file=None, data_dir='./data', dataset='rte', dataset_path=None, ensemble_num=1, epsilon=1.0, examples_per_label=1, fix_dist=True, is_quantized=False, knn_T=None, knn_k=None, knn_model='bert-base-uncased', local_rank=0, local_world_size=1, lr=1e-05, mask_augment=False, mask_prob=0.15, mask_ratio=0.3, max_length=1024, max_percent_words=0.5, mode='attack', model='lmsys/vicuna-7b-v1.5', model_dir='./checkpoints/rte/lmsys/vicuna-7b-v1.5/swap_labels/icl_attack-seed-13-shot-8', model_id='0', model_type='icl_attack', norm='l2', num_epochs=20, num_examples=1000, num_iter=1, num_labels=2, num_template=-1, path='None', patience=10, pool_label_words='max', pool_templates='mean', precision='bfloat16', prompt_num=2, query_budget=250, replace_ratio=0.1, retrieve_method='sbert', sampled_num=1, seed=13, shot=8, split='test', template_file='configs/templates_rte.yaml', tindex=0, train_epoch=30, train_size=0.95, val_size=0.05, verbalizer_file='configs/verbalizer_rte.yaml', weight_decay=0.01)
lmsys/vicuna-7b-v1.5
Model Directory: ./checkpoints/rte/lmsys/vicuna-7b-v1.5/swap_labels/icl_attack-seed-13-shot-8
1 Physical GPUs, 1 Logical GPUs
Namespace(adv_augment=0, alpha=None, attack_name='swap_labels', batch_size=2, beta=1.0, cache_dir='./checkpoints/rte/lmsys/vicuna-7b-v1.5/swap_labels/icl_attack-seed-13-shot-8/cache', checkpoint_interval=1000, config_file=None, data_dir='./data', dataset='rte', dataset_path=None, ensemble_num=1, epsilon=1.0, examples_per_label=1, fix_dist=True, is_quantized=False, knn_T=None, knn_k=None, knn_model='bert-base-uncased', local_rank=0, local_world_size=1, lr=1e-05, mask_augment=False, mask_prob=0.15, mask_ratio=0.3, max_length=1024, max_percent_words=0.5, mode='attack', model='lmsys/vicuna-7b-v1.5', model_dir='./checkpoints/rte/lmsys/vicuna-7b-v1.5/swap_labels/icl_attack-seed-13-shot-8', model_id='0', model_type='icl_attack', norm='l2', num_epochs=20, num_examples=1000, num_iter=1, num_labels=2, num_template=-1, path='None', patience=10, pool_label_words='max', pool_templates='mean', precision='bfloat16', prompt_num=2, query_budget=250, replace_ratio=0.1, retrieve_method='sbert', sampled_num=1, seed=13, shot=8, split='test', template_file='configs/templates_rte.yaml', tindex=0, train_epoch=30, train_size=0.95, val_size=0.05, verbalizer_file='configs/verbalizer_rte.yaml', weight_decay=0.01)
Length of anchor subsample 0
Length of icl examples 2
Finished loading model
ICL examples
{'label': 1, 'idx': 0, 'premise': 'dana reeve, the widow of the actor christopher reeve, has died of lung cancer at age 44, according to the christopher reeve foundation.', 'hypothesis': 'christopher reeve had an accident.', 'Premise_0': 'the pentagon is rejecting demands by kyrgyzstan to pay for the past use of manas air base, a key military facility for us aircraft flying missions to afghanistan.', 'Hypothesis_0': 'manas air base is located in kyrgyzstan.', 'Label_0': 'true', 'Premise_1': 'ahern, who was travelling to tokyo for an eu-japan summit yesterday, will consult with other eu leaders by telephone later this week in an effort to find an agreed candidate to presidency of the european commission.', 'Hypothesis_1': 'eu leaders found an agreement about a candidate to the post of european commission president.', 'Label_1': 'false', 'Premise_2': "the united iraqi alliance, endorsed by iraq's top shiite clerics, captured more than two-thirds of the 3.3 million votes counted so far, the election commission said.", 'Hypothesis_2': 'the united iraqi alliance won more than two-thirds of the 3.3 million votes counted so far, the election commission said.', 'Label_2': 'true', 'Premise_3': 'the osaka world trade center is the tallest building in western japan.', 'Hypothesis_3': 'the osaka world trade center is the tallest building in japan.', 'Label_3': 'false', 'Premise_4': 'argentina was still obsessed with the falkland islands even in 1994, 12 years after its defeat in the 74-day war with britain.', 'Hypothesis_4': 'the falklands war took place in 1982.', 'Label_4': 'true', 'Premise_5': 'journalists of the concealed bbc, that was made happen through advisers of london industralists, asked slavkov.', 'Hypothesis_5': 'bbc undercover reporters, posing as consultants acting for london businessmen, ask slavkov.', 'Label_5': 'false', 'Premise_6': 'the revamped engine indexes more pages than before, can give direct answers to factual questions, and features tools to help people create detailed queries.', 'Hypothesis_6': 'the engine can answer specific queries directly.', 'Label_6': 'true', 'Premise_7': 'most of the mines are in arid areas and animals searching for water are attracted to the cyanide-laced holding ponds that are an integral part of the mining operations.', 'Hypothesis_7': 'animals have died by the thousands from drinking at cyanide-laced holding ponds.', 'Label_7': 'false', 'Premise_8': "the borrowers must form five-member groups that, along with the bank's field workers, closely supervise the loans. peer pressure substitutes for collateral because the group's first two borrowers have to start repaying the principal plus interest over a six-week period before the other members can take out loans. the interest rate is fixed at 16 percent.", 'Hypothesis_8': 'the first two borrowers must start repaying the principal plus interest over a six-week period.', 'Label_8': 'true', 'Premise_9': 'in 1955, the aurora borealis, a coating applied to crystal stones to produce a "rainbow of colors" effect was introduced.', 'Hypothesis_9': 'the aurora borealis was discovered in 1995.', 'Label_9': 'false', 'Premise_10': 'british newsreader natasha kaplinsky gave birth to a baby boy earlier this morning at around 08:30 bst. she had been on maternity leave since august 21. kaplinsky had only been working with five news just over a month when she announced she was pregnant. her husband of three years, investment banker justin bower announced "we\'re absolutely thrilled." kaplinsky first started to work for the bbc in 2002 after a two year tenure with sky news. she started on the bbc breakfast show but later moved onto the bbc six o\'clock news and later became only the third woman to present the bbc ten o\'clock news. she left the bbc in october 2007. she also spent a short time with itv news. five news released a statement saying "her colleagues here at five news are delighted too - and we\'ve sent our best wishes." they also said both kaplinsky and the baby are doing fine.', 'Hypothesis_10': 'natasha kaplinsky and justin bower  got married three years ago.', 'Label_10': 'true', 'Premise_11': 'a series of projects with the objective of finding solutions to some of the consequences of the chernobyl accident have been carried out within the framework of the unesco chernobyl programme. the ihp organized a workshop to review and compare present knowledge of radionuclide transfer in the hydrological cycle.', 'Hypothesis_11': 'the chernobyl disaster had repercussions outside the ex-ussr.', 'Label_11': 'false', 'Premise_12': 'greg page, a former heavyweight boxing champion who suffered a severe brain injury in a 2001 fight, has died at 50. his wife patricia said the one-time wba champion had died at his home in kentucky, usa, of complications related to injuries he suffered in the fight. page was in a coma for a week after the 9 march 2001 fight against dale crowe which was stopped in the 10th round. patricia page said he was "in a better place now" after announcing on monday he had died overnight in his sleep.', 'Hypothesis_12': 'greg page was a wba champion.', 'Label_12': 'true', 'Premise_13': 'the introduction of the euro has dismantled barriers to cross-border trading and enhanced risk sharing and opportunities for diversification.', 'Hypothesis_13': 'the introduction of the euro has been opposed.', 'Label_13': 'false', 'Premise_14': 'winnenden, germany â€•a teenage gunman killed 15 people, most of them female, on wednesday in a rampage that began at a school near stuttgart in southern germany and ended in a nearby town, where he then killed himself after the police wounded him. the attack left germany, which tightened tough gun controls after a similar attack at a school seven years ago, struggling to understand the carnage that had again befallen it, a country with relatively little violent crime. in 2002, a gunman killed 16 people before killing himself at a school in erfurt, in eastern germany.', 'Hypothesis_14': 'a teenager shot 15 people in germany.', 'Label_14': 'true', 'Premise_15': 'scientists have made two major discoveries in the search for other earth-like planets. british astronomers say they have discovered the smallest known earth-like exoplanet orbiting a living star called gliese 581 e and also discovered that a nearby planet called gliese 581 d, discovered in 2007, is in the much sought after \'habitable zone\'. astronomers also believe there is a possibility that 581 d could have liquid oceans on its surface, calling the find "extraordinary."  "the holy grail of current exoplanet research is the detection of a rocky, earth-like planet in the \'habitable zone\'," said astrophysicist at switzerland\'s geneva university, michel mayor.  astronomers say 581 e is 20.5 light years away from earth and that it\'s roughly 1.9 times larger than earth, making it the smallest exoplanet discovered to date. it was found using the high accuracy radial velocity planet searcher (harps).', 'Hypothesis_15': 'michel mayor is the discoverer of the high accuracy radial velocity planet searcher.', 'Label_15': 'false'}
{'label': 1, 'idx': 0, 'premise': 'dana reeve, the widow of the actor christopher reeve, has died of lung cancer at age 44, according to the christopher reeve foundation.', 'hypothesis': 'christopher reeve had an accident.', 'Premise_0': 'the pentagon is rejecting demands by kyrgyzstan to pay for the past use of manas air base, a key military facility for us aircraft flying missions to afghanistan.', 'Hypothesis_0': 'manas air base is located in kyrgyzstan.', 'Label_0': 'true', 'Premise_1': 'ahern, who was travelling to tokyo for an eu-japan summit yesterday, will consult with other eu leaders by telephone later this week in an effort to find an agreed candidate to presidency of the european commission.', 'Hypothesis_1': 'eu leaders found an agreement about a candidate to the post of european commission president.', 'Label_1': 'false', 'Premise_2': "the united iraqi alliance, endorsed by iraq's top shiite clerics, captured more than two-thirds of the 3.3 million votes counted so far, the election commission said.", 'Hypothesis_2': 'the united iraqi alliance won more than two-thirds of the 3.3 million votes counted so far, the election commission said.', 'Label_2': 'true', 'Premise_3': 'the osaka world trade center is the tallest building in western japan.', 'Hypothesis_3': 'the osaka world trade center is the tallest building in japan.', 'Label_3': 'false', 'Premise_4': 'argentina was still obsessed with the falkland islands even in 1994, 12 years after its defeat in the 74-day war with britain.', 'Hypothesis_4': 'the falklands war took place in 1982.', 'Label_4': 'true', 'Premise_5': 'journalists of the concealed bbc, that was made happen through advisers of london industralists, asked slavkov.', 'Hypothesis_5': 'bbc undercover reporters, posing as consultants acting for london businessmen, ask slavkov.', 'Label_5': 'false', 'Premise_6': 'the revamped engine indexes more pages than before, can give direct answers to factual questions, and features tools to help people create detailed queries.', 'Hypothesis_6': 'the engine can answer specific queries directly.', 'Label_6': 'true', 'Premise_7': 'most of the mines are in arid areas and animals searching for water are attracted to the cyanide-laced holding ponds that are an integral part of the mining operations.', 'Hypothesis_7': 'animals have died by the thousands from drinking at cyanide-laced holding ponds.', 'Label_7': 'false', 'Premise_8': "the borrowers must form five-member groups that, along with the bank's field workers, closely supervise the loans. peer pressure substitutes for collateral because the group's first two borrowers have to start repaying the principal plus interest over a six-week period before the other members can take out loans. the interest rate is fixed at 16 percent.", 'Hypothesis_8': 'the first two borrowers must start repaying the principal plus interest over a six-week period.', 'Label_8': 'true', 'Premise_9': 'in 1955, the aurora borealis, a coating applied to crystal stones to produce a "rainbow of colors" effect was introduced.', 'Hypothesis_9': 'the aurora borealis was discovered in 1995.', 'Label_9': 'false', 'Premise_10': 'british newsreader natasha kaplinsky gave birth to a baby boy earlier this morning at around 08:30 bst. she had been on maternity leave since august 21. kaplinsky had only been working with five news just over a month when she announced she was pregnant. her husband of three years, investment banker justin bower announced "we\'re absolutely thrilled." kaplinsky first started to work for the bbc in 2002 after a two year tenure with sky news. she started on the bbc breakfast show but later moved onto the bbc six o\'clock news and later became only the third woman to present the bbc ten o\'clock news. she left the bbc in october 2007. she also spent a short time with itv news. five news released a statement saying "her colleagues here at five news are delighted too - and we\'ve sent our best wishes." they also said both kaplinsky and the baby are doing fine.', 'Hypothesis_10': 'natasha kaplinsky and justin bower  got married three years ago.', 'Label_10': 'true', 'Premise_11': 'a series of projects with the objective of finding solutions to some of the consequences of the chernobyl accident have been carried out within the framework of the unesco chernobyl programme. the ihp organized a workshop to review and compare present knowledge of radionuclide transfer in the hydrological cycle.', 'Hypothesis_11': 'the chernobyl disaster had repercussions outside the ex-ussr.', 'Label_11': 'false', 'Premise_12': 'greg page, a former heavyweight boxing champion who suffered a severe brain injury in a 2001 fight, has died at 50. his wife patricia said the one-time wba champion had died at his home in kentucky, usa, of complications related to injuries he suffered in the fight. page was in a coma for a week after the 9 march 2001 fight against dale crowe which was stopped in the 10th round. patricia page said he was "in a better place now" after announcing on monday he had died overnight in his sleep.', 'Hypothesis_12': 'greg page was a wba champion.', 'Label_12': 'true', 'Premise_13': 'the introduction of the euro has dismantled barriers to cross-border trading and enhanced risk sharing and opportunities for diversification.', 'Hypothesis_13': 'the introduction of the euro has been opposed.', 'Label_13': 'false', 'Premise_14': 'winnenden, germany â€•a teenage gunman killed 15 people, most of them female, on wednesday in a rampage that began at a school near stuttgart in southern germany and ended in a nearby town, where he then killed himself after the police wounded him. the attack left germany, which tightened tough gun controls after a similar attack at a school seven years ago, struggling to understand the carnage that had again befallen it, a country with relatively little violent crime. in 2002, a gunman killed 16 people before killing himself at a school in erfurt, in eastern germany.', 'Hypothesis_14': 'a teenager shot 15 people in germany.', 'Label_14': 'true', 'Premise_15': 'scientists have made two major discoveries in the search for other earth-like planets. british astronomers say they have discovered the smallest known earth-like exoplanet orbiting a living star called gliese 581 e and also discovered that a nearby planet called gliese 581 d, discovered in 2007, is in the much sought after \'habitable zone\'. astronomers also believe there is a possibility that 581 d could have liquid oceans on its surface, calling the find "extraordinary."  "the holy grail of current exoplanet research is the detection of a rocky, earth-like planet in the \'habitable zone\'," said astrophysicist at switzerland\'s geneva university, michel mayor.  astronomers say 581 e is 20.5 light years away from earth and that it\'s roughly 1.9 times larger than earth, making it the smallest exoplanet discovered to date. it was found using the high accuracy radial velocity planet searcher (harps).', 'Hypothesis_15': 'michel mayor is the discoverer of the high accuracy radial velocity planet searcher.', 'Label_15': 'false'}
['{}\n The question is: {}. True or False?\nThe Answer is: {}']
{0: ['true'], 1: ['false']}
./checkpoints/rte/lmsys/vicuna-7b-v1.5/swap_labels/icl_attack-seed-13-shot-8/swap_labels_log.csv
<textattack.attacker.Attacker object at 0x7f1d41cf1a90>
Attack(
  (search_method): GreedySearch
  (goal_function):  UntargetedClassification
  (transformation):  CompositeTransformation(
    (0): WordSwapDuo
    )
  (constraints): 
    (0): MaxWordsPerturbed(
        (max_percent):  0.5
        (compare_against_original):  True
      )
    (1): UniformSwap(
        (threshold):  1
        (compare_against_original):  True
      )
    (2): InstructionModification(
        (columns_to_ignore):  ['sentence', 'example_', 'premise', 'hypothesis']
      )
    (3): RepeatModification
  (is_black_box):  True
) 


+-------------------------------+---------+
| Attack Results                |         |
+-------------------------------+---------+
| Number of successful attacks: | 58      |
| Number of failed attacks:     | 130     |
| Number of skipped attacks:    | 89      |
| Original accuracy:            | 67.87   |
| Accuracy under attack:        | 46.93   |
| Attack success rate:          | 30.85   |
| Average perturbed word %:     | 0.39    |
| Average num. words per input: | 1058.02 |
| Avg num queries:              | 174.54  |
| Adv confidence:               | 0.52    |
| Average Original Perplexity:  | 27.4    |
| Average Attack Perplexity:    | 27.42   |
| Average Attack USE Score:     | 0.99    |
+-------------------------------+---------+
Attack time: 5595.830988168716
Attack time: 5595.830988168716
